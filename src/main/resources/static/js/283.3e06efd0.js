"use strict";(self["webpackChunkvue_learning"]=self["webpackChunkvue_learning"]||[]).push([[283],{7283:function(e,o,a){a.r(o),a.d(o,{default:function(){return f}});var l=a(3396);const r=e=>((0,l.dD)("data-v-6d1fed9a"),e=e(),(0,l.Cn)(),e),s={class:"login-wrapper"},t=r((()=>(0,l._)("div",{class:"title"},"图书管理系统",-1)));function n(e,o,a,r,n,i){const m=(0,l.up)("el-input"),d=(0,l.up)("el-form-item"),u=(0,l.up)("el-button"),p=(0,l.up)("el-form"),c=(0,l.up)("el-card");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(c,{class:"login-box"},{default:(0,l.w5)((()=>[t,(0,l.Wm)(p,{ref:"loginForm",model:n.loginForm,"label-position":"top"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:n.loginForm.username,"onUpdate:modelValue":o[0]||(o[0]=e=>n.loginForm.username=e),placeholder:"用户名","prefix-icon":i.User,autocomplete:"off"},null,8,["modelValue","prefix-icon"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{type:"password",modelValue:n.loginForm.password,"onUpdate:modelValue":o[1]||(o[1]=e=>n.loginForm.password=e),placeholder:"密码","prefix-icon":i.Unlock,autocomplete:"off","show-password":""},null,8,["modelValue","prefix-icon"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"primary",block:"",onClick:i.handle},{default:(0,l.w5)((()=>[(0,l.Uk)("登录")])),_:1},8,["onClick"]),(0,l.Wm)(u,{type:"primary",block:"",onClick:i.register},{default:(0,l.w5)((()=>[(0,l.Uk)("注册")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])),_:1})])}a(560);var i=a(1120),m=a(9168),d=a(2748),u=a(4239),p={name:"Login_mila",computed:{Unlock(){return d.Slr},User(){return d.n5m}},data(){return{loginForm:{username:"",password:""},disable_flag:!0}},methods:{handle(){""!==this.loginForm.username&&""!==this.loginForm.password?m.Z.post("api/Customer/login",this.loginForm).then((e=>{"0"===e.data.code?(this.$message({message:"登录成功",type:"success"}),"Admin"===e.data.data.authority&&u.Z.commit("setAuthority","Admin"),sessionStorage.setItem("user",JSON.stringify(e.data.data)),i.Z.push("/search")):this.$message({message:e.data.msg,type:"error"})})):this.$message({message:"用户名或密码错误",type:"warning"})},register(){i.Z.push("/register")}}},c=a(89);const g=(0,c.Z)(p,[["render",n],["__scopeId","data-v-6d1fed9a"]]);var f=g}}]);
//# sourceMappingURL=283.3e06efd0.js.map