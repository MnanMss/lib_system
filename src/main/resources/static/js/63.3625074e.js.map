{"version":3,"file":"js/63.3625074e.js","mappings":"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","sources":["webpack://vue_learning/./src/components/LendDetails.vue","webpack://vue_learning/./src/components/LendDetails.vue?8958","webpack://vue_learning/./src/views/BookDetails.vue","webpack://vue_learning/./src/views/BookDetails.vue?ff93"],"sourcesContent":["<script>\r\nimport request from \"@/until/request\";\r\n\r\nexport default {\r\n  name: \"LendDetails_mila\",\r\n\r\n  data() {\r\n    return {\r\n      dialogFormVisible : false,\r\n      lend: {\r\n        lenDays: 0\r\n      },\r\n      formLabelWidth : '140px'\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.lend.customer = JSON.parse(sessionStorage.getItem(\"user\"))\r\n    this.lend.book = JSON.parse(sessionStorage.getItem(\"nowBook\"))\r\n  },\r\n  methods: {\r\n    prepare() {\r\n      this.lend.customer = JSON.parse(sessionStorage.getItem(\"user\"))\r\n      this.lend.book = JSON.parse(sessionStorage.getItem(\"nowBook\"))\r\n    },\r\n    formDate(date) {\r\n      let year = date.getFullYear()\r\n      let month = (date.getMonth() + 1).toString().padStart(2, '0')\r\n      let day = date.getDate().toString().padStart(2, '0')\r\n      return `${year}-${month}-${day}`\r\n    },\r\n    submit() {\r\n\r\n      if(this.lend.book.freeNumber === 0) {\r\n        this.$message({\r\n          message: \"书籍无剩余\",\r\n          type: \"error\"\r\n        })\r\n        return\r\n      }\r\n\r\n      if(this.lend.customer.lendBookNum === 0) {\r\n        this.$message({\r\n          message: \"达到借书上限\",\r\n          type: \"error\"\r\n        })\r\n        return\r\n      }\r\n\r\n      this.dialogFormVisible = false;\r\n      this.lend.borrowTime = this.formDate(new Date())\r\n      request.post(\"api/book/lend\" , this.lend).then(res=>{\r\n        if(res.data.code === \"-1\") {\r\n          this.$message({\r\n            message: res.data.msg,\r\n            type: \"error\"\r\n          })\r\n        }\r\n        else {\r\n          this.$message({\r\n            message: \"借阅成功\",\r\n            type: \"success\"\r\n          })\r\n          console.log(res.data.data)\r\n          this.lend = res.data.data\r\n          console.log(this.lend)\r\n          sessionStorage.setItem(\"user\" ,JSON.stringify(this.lend.customer))\r\n          window.location.reload()\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<template>\r\n  <!-- Form -->\r\n  <el-button type=\"primary\" @click=\"dialogFormVisible = true; $emit('myClick')\" >\r\n    借阅\r\n  </el-button>\r\n\r\n  <el-dialog v-model=\"dialogFormVisible\" title=\"借书登记\" @open=\"prepare\">\r\n    <el-form>\r\n      <el-form-item label=\"可借书本数\" :label-width=\"formLabelWidth\">\r\n        <el-text>{{lend.customer.lendBookNum}}</el-text>\r\n      </el-form-item >\r\n      <el-form-item label=\"书籍剩余数量\" :label-width=\"formLabelWidth\" >\r\n        <el-text>{{lend.book.freeNumber}}</el-text>\r\n      </el-form-item>\r\n      <el-form-item\r\n          label=\"借书天数\"\r\n          :label-width=\"formLabelWidth\"\r\n      >\r\n        <el-input\r\n            v-model.number=\"lend.lenDays\"\r\n            autocomplete=\"off\"\r\n        >\r\n        </el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false;\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"submit\">\r\n          确认\r\n        </el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<style scoped>\r\n.el-button--text {\r\n  margin-right: 15px;\r\n}\r\n.el-select {\r\n  width: 300px;\r\n}\r\n.el-input {\r\n  width: 300px;\r\n}\r\n.dialog-footer button:first-child {\r\n  margin-right: 10px;\r\n}\r\n</style>","import { render } from \"./LendDetails.vue?vue&type=template&id=6e5c03d4&scoped=true\"\nimport script from \"./LendDetails.vue?vue&type=script&lang=js\"\nexport * from \"./LendDetails.vue?vue&type=script&lang=js\"\n\nimport \"./LendDetails.vue?vue&type=style&index=0&id=6e5c03d4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e5c03d4\"]])\n\nexport default __exports__","<script>\r\nimport lend from '@/components/LendDetails.vue'\r\nexport default {\r\n  name: \"BookDetails_mila\",\r\n  components: {\r\n    lend: lend\r\n  },\r\n  mounted() {\r\n    this.book = JSON.parse(sessionStorage.getItem(\"nowBook\"))\r\n  },\r\n  data() {\r\n    return {\r\n      book: {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"layout-container\">\r\n    <!-- 上半部分，两个并列的卡片 -->\r\n    <el-row :gutter=\"20\" class=\"top-row\">\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <el-image :src=\"book.imgSrc\"></el-image>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"16\" class=\"second-card\">\r\n        <el-card shadow=\"hover\">\r\n          <el-row>\r\n            <el-col>书名：{{book.bookName}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>作者：{{book.author}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>出版社：{{book.bookCompany}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>价格：{{book.price}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>出版日：{{book.publishDate}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>书籍描述：{{book.description}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>剩余数量：{{book.freeNumber}}</el-col>\r\n          </el-row>\r\n          <el-row>\r\n            <el-col>馆藏数量：{{book.totalNumber}}</el-col>\r\n          </el-row>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <lend></lend>\r\n<!--    &lt;!&ndash; 下半部分，一个宽度更大的卡片 &ndash;&gt;-->\r\n<!--    <el-card shadow=\"hover\" class=\"large-card\">-->\r\n<!--      <div class=\"content\">评论，图书目录</div>-->\r\n<!--    </el-card>-->\r\n\r\n    <!-- 右下角的按钮 -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.layout-container {\r\n  position: relative;\r\n  padding: 40px;\r\n  margin-left: 50px;\r\n  min-height: 80vh; /* Minimum height to ensure that the button can be absolutely positioned within the container */\r\n}\r\n\r\n.top-row {\r\n  margin-bottom: 20px; /* Spacing between top cards and large card */\r\n}\r\n\r\n.second-card {\r\n  offset: 0 0 0 20px; /* Slight offset to ensure gutter between cards */\r\n}\r\n\r\n.large-card {\r\n  position: absolute;\r\n  bottom: 60px; /* Position from bottom */\r\n  left: 40px; /* Position from left */\r\n  right: 120px; /* Position from right to stretch across the container */\r\n}\r\n\r\n.action-button {\r\n  position: fixed; /* 固定定位，悬浮效果 */\r\n  right: 40px; /* 距离视口右侧的距离 */\r\n  bottom: 100px; /* 距离视口底部的距离 */\r\n  z-index: 1000; /* 确保按钮在其他内容之上 */\r\n}\r\n\r\n.content {\r\n  padding: 20px;\r\n  font-size: 14px;\r\n  color: #333;\r\n}\r\n\r\n/* Adjustments for responsive behavior */\r\n@media (max-width: 768px) {\r\n  .large-card,\r\n  .action-button {\r\n    left: 20px;\r\n    right: 20px;\r\n  }\r\n\r\n  .second-card {\r\n    offset: 0;\r\n  }\r\n\r\n  .top-row {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .top-row .el-col {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>","import { render } from \"./BookDetails.vue?vue&type=template&id=c6f672f0&scoped=true\"\nimport script from \"./BookDetails.vue?vue&type=script&lang=js\"\nexport * from \"./BookDetails.vue?vue&type=script&lang=js\"\n\nimport \"./BookDetails.vue?vue&type=style&index=0&id=c6f672f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c6f672f0\"]])\n\nexport default __exports__"],"names":["class","_createVNode","_component_el_button","type","onClick","_cache","$event","$data","dialogFormVisible","_ctx","$emit","_component_el_dialog","title","onOpen","$options","prepare","footer","_withCtx","_createElementVNode","_hoisted_1","submit","_component_el_form","_component_el_form_item","label","formLabelWidth","_component_el_text","lend","customer","lendBookNum","book","freeNumber","_component_el_input","lenDays","number","autocomplete","name","data","mounted","this","JSON","parse","sessionStorage","getItem","methods","formDate","date","year","getFullYear","month","getMonth","toString","padStart","day","getDate","borrowTime","Date","request","post","then","res","code","$message","message","msg","console","log","setItem","stringify","window","location","reload","__exports__","render","_createElementBlock","_component_el_row","gutter","_component_el_col","span","_component_el_card","shadow","_component_el_image","src","imgSrc","_toDisplayString","bookName","author","bookCompany","price","publishDate","description","totalNumber","_component_lend","components"],"sourceRoot":""}